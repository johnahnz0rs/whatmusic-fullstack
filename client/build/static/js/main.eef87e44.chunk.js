(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/brand.5dcf7921.png"},23:function(e,t,n){e.exports=n(35)},28:function(e,t,n){},30:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(13),i=n.n(o),c=(n(28),n(5)),l=n(6),s=n(8),u=n(7),m=n(9),p=(n(30),n(36)),f=n(3),h=n(37),d=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).getTopGenres=function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value,l=!0,s=!1,u=void 0;try{for(var m,p=function(){var e=m.value;if(t.some(function(t){return t.genre===e})){var n=t.findIndex(function(t){return t.genre===e});t[n].count+=1}else t.push({genre:e,count:1})},f=c.genres[Symbol.iterator]();!(l=(m=f.next()).done);l=!0)p()}catch(h){s=!0,u=h}finally{try{l||null==f.return||f.return()}finally{if(s)throw u}}}}catch(h){a=!0,r=h}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return t.sort(function(e,t){return t.count-e.count})},n.state={user:n.props.user},n.getTopGenres=n.getTopGenres.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&(console.log("*** componentDidUpdate ***"),this.setState({user:this.props.user}))}},{key:"componentDidMount",value:function(){var e=this;console.log("*** this.state.user ***",this.state.user);var t=new URLSearchParams(window.location.search).get("access_token"),n={method:"GET",headers:{Authorization:"Bearer ".concat(t)}},a="https://api.spotify.com/v1",r={};fetch("".concat(a,"/me"),n).then(function(e){return e.json()}).then(function(e){r={id:e.id,name:e.display_name,email:e.email,url:e.external_urls.spotify,followers:e.followers.total,country:e.country,product:e.product,type:e.type,uri:e.uri},e.images[0].url&&(r.image=e.images[0].url)}).then(function(){fetch("".concat(a,"/me/top/artists?limit=50&time_range=short_term"),n).then(function(e){return e.json()}).then(function(t){var n=[],a=!0,o=!1,i=void 0;try{for(var c,l=t.items[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value,u={id:s.id,name:s.name,image:s.images[0].url,external_urls:s.href,followers:s.followers.total,genres:s.genres,href:s.href,popularity:s.popularity,type:s.type,uri:s.uri};n.push(u)}}catch(m){o=!0,i=m}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}r.topArtists=n,r.topGenres=e.getTopGenres(n)}).then(function(){fetch("".concat(a,"/me/top/tracks?limit=50&time_range=short_term"),n).then(function(e){return e.json()}).then(function(e){var t=[],n=!0,a=!1,o=void 0;try{for(var i,c=e.items[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var l=i.value,s=[],u=!0,m=!1,p=void 0;try{for(var f,h=l.artists[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value,b={id:d.id,name:d.name,href:d.href};s.push(b)}}catch(v){m=!0,p=v}finally{try{u||null==h.return||h.return()}finally{if(m)throw p}}var g={name:l.name,artists:s,preview_url:l.preview_url,album:l.album.name,image:l.album.images[0].url,release_date:l.album.release_date,disc_number:l.disc_number,track_number:l.track_number,explicit:l.explicit,is_playable:l.is_playable,popularity:l.popularity,type:l.type,duration:l.duration,href:l.href};t.push(g)}}catch(v){a=!0,o=v}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}r.topTracks=t,console.log("*** user after api calls ***",r)}).then(function(){e.props.updateStateUser(r)}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:""},r.a.createElement("p",null,"lol this is ur profile d00d"),r.a.createElement("button",{onClick:function(){return console.log("*** Profile.state***",e.state)}},"print Profile.state")))}}]),t}(r.a.Component),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).signInWithSpotify=function(){fetch("/api/login-spotify").then(function(e){return e.json()}).then(function(){return n.props.pickPage("profile")})},n.state={user:n.props.user},n.signInWithSpotify=n.signInWithSpotify.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.setState({user:this.props.user})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid login-comp-background"},r.a.createElement("p",null,"lol this is login"),r.a.createElement("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return console.log("*** print Login.state ***",e.state)}},"print Login.state"),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-3"},"\xa0"),r.a.createElement("div",{className:"col-3"},r.a.createElement("p",null,r.a.createElement("span",{className:"font-italic font-weight-bold"},"Exploring each other's music"),r.a.createElement("br",null),"can be an intimate way to get to know your new friend(s).",r.a.createElement("br",null),"But sometimes,",r.a.createElement("br",null),"it's hard to articulate our favorite music."))),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-3"},r.a.createElement("p",null,"At ",r.a.createElement("span",{className:"font-italic"},r.a.createElement("span",{className:"font-weight-bold"},"whatMusic"),",",r.a.createElement("br",null),"we got your back."),r.a.createElement("br",null),"We show you what music yous two both like, so you can start groovin' together."),r.a.createElement("h5",null,"Sign in below to get started!")),r.a.createElement("div",{className:"col-3"},"\xa0")),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4"},r.a.createElement("a",{href:"http://localhost:5000/api/login-spotify"},r.a.createElement("button",{className:"btn btn-sm btn-primary"},"Sign in with Spotify"))))))}}]),t}(r.a.Component),g=n(11),v=n(19),y=n.n(v),E=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).pickPage=function(e){console.log("*** navbar.pickPage(".concat(e.target.name,") ***"));var t=e.target.name;n.props.pickPage(t)},n.state={user:n.props.user},n.pickPage=n.pickPage.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.setState({user:this.props.user})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"new-attempt-closed"}),r.a.createElement(g.d,{dark:!0,style:{backgroundColor:"#F36D76"}},r.a.createElement(g.e,{href:"/",className:"mr-auto ml-auto"},r.a.createElement("img",{className:"navbar-brand",src:y.a,alt:""})),r.a.createElement(g.a,{className:"mr-auto",navbar:!0},r.a.createElement(g.b,null,r.a.createElement(g.c,{href:"/profile"},"Profile")),r.a.createElement(g.b,null,r.a.createElement(g.c,{href:"/compare"},"Compare")),this.state.user.id&&r.a.createElement(g.b,null,r.a.createElement(g.c,{href:"#",onClick:function(){return e.props.signOut}},"Sign Out")))),r.a.createElement("button",{className:"btn btn-sm btn-outline-warning",onClick:function(){return console.log("*** print MyNavbar.state ***",e.state)}},"print MyNavbar.state"))}}]),t}(r.a.Component),k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={user:n.props.user},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row container"},r.a.createElement("p",null,"lol this is compare"),r.a.createElement("button",{className:"btn btn-sm btn-outline-success",onClick:function(){return console.log("*** print Compare.state ***",e.state)}},"print Compare.state")))}}]),t}(r.a.Component),j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).signOut=function(){n.setState({user:{}}),window.location("/")},n.pickPage=function(e){n.setState({showThisPage:e}),console.log("*** pickPage() ***",e)},n.updateStateUser=function(e){n.setState({user:e}),console.log("*** lol updating ContentArea.state.user ***",e)},n.state={},n.signOut=n.signOut.bind(Object(f.a)(Object(f.a)(n))),n.pickPage=n.pickPage.bind(Object(f.a)(Object(f.a)(n))),n.updateStateUser=n.updateStateUser.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("*** ContentArea.props ***",this.props)}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"root-div container-fluid"},r.a.createElement(E,{user:this.state.user||{},signOut:this.signOut,pickPage:this.pickPage}),r.a.createElement("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return console.log("*** print ContentArea.state ***",e.state)}},"print ContentArea.state"),r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(b,{user:e.state.user||{}})}}),r.a.createElement(h.a,{path:"/profile",render:function(){return r.a.createElement(d,{user:e.state.user,updateStateUser:e.updateStateUser,pickPage:e.pickPage})}}),r.a.createElement(h.a,{path:"/compare",render:function(){return r.a.createElement(k,{user:e.state.user})}})))}}]),t}(r.a.Component),O=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.eef87e44.chunk.js.map